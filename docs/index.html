<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>arronKler's Blog</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="Description">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify@4/lib/themes/vue.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
</head>
<body>
  <div id="app"></div>

  <script>
    window.$docsify = {
      name: 'arronKler',
      repo: 'https://github.com/arronKler/blog',
      loadSidebar: true,
      subMaxLevel: 2,
      copyCode: {
        buttonText: '复制代码',
        successText: '复制完成',
        errorText: '复制失败'
      },
    }
  </script>
  <!-- Docsify v4 -->
  <!-- <script src="//cdn.jsdelivr.net/npm/docsify@4"></script> -->
  <script src="//cdn.jsdelivr.net/npm/docsify/lib/docsify.min.js"></script>

  <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/zoom-image.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/emoji.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify-katex@latest/dist/docsify-katex.js"></script>
  <script src="https://unpkg.com/docsify-copy-code@2"></script>
  <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
  <script>
    const elem = document.createElement('div')
    elem.style = 'margin: 0 auto;max-width: 80%;padding: 30px 15px 40px;'
    
    const match = location.hash.match(/#(.*?)([?]|$)/)
    const id = match ? match[1] : window.location.pathname

    const gitalk = new Gitalk({
      clientID: 'bc6287aac6cf5ea00869',
      clientSecret: 'c99b077d30bc1903de772a5079b8e277d7076869',
      repo: 'blog',
      owner: 'arronKler',
      admin: ['arronKler'],
      // facebook-like distraction free mode
      title: document.title ,
      id: id, 
      distractionFreeMode: false
    })

    window.onhashchange = function(event) {
      if (event.newURL.split('?')[0] !== event.oldURL.split('?')[0]) {
        location.reload()
      }
    }

    gitalk.render(elem)
    
    setTimeout(() => {
      document.getElementById('main').parentElement.appendChild(elem)
    })
  </script>

  <script>
    if (typeof navigator.serviceWorker !== 'undefined') {
      navigator.serviceWorker.register('sw.js')
    }
  </script>

</body>
</html>
